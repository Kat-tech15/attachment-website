{% extends 'base.html' %}
{% block title %}Notifications{% endblock %}

{% block content %}
<div class="container mt-5">
    <h4 class="mb-4 text-primary"><i class="fa fa-bell"></i> Your Notifications</h4>

    {% if notifications %}
        <div class="list-group">
            {% for notification in notifications %}
                <a href="{{ notification.url|default:'#' }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center {% if not notification.is_read %}list-group-item-light{% endif %}">
                    <span>{{ notification.message|truncatechars:80 }}</span>
                    <small class="text-muted">{{ notification.created_at|timesince }} ago</small>
                </a>
            {% endfor %}
        </div>
        <div class="mt-3 text-end">
            <a href="{% url 'mark_all_notifications_as_read' %}" class="btn btn-sm btn-outline-primary">
                Mark all as read
            </a>
        </div>
    {% else %}
        <div class="alert alert-info" role="alert">
           <p> You have no notifications.</p>
        </div>
    {% endif %}
</div>

<style>
    .container mt-5 {
        text-align: center;
    }
    h4 {
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .list-group-item {
        border-radius: 8px;
        margin-bottom: 8px;
        transition: background 0.2s ease-in-out;
    }

    .list-group-item:hover {
        background-color: #f0f8ff;
    }

    .list-group-item-light {
        background-color: #e9ecef;
    }

    .btn-outline-primary {
        border-radius: 6px;
    }
    p {
        font-style: oblique;
        text-align: center;
    }

    @media (max-width: 576px) {
        .list-group-item {
            flex-direction: column;
            align-items: flex-start;
        }
        .list-group-item small {
            margin-top: 5px;
        }
    }
</style>
{% endblock %}
