<!-- templates/home.html -->
{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}

<style>
  .search-form {
    display: flex;
    justify-content: center;
    margin: 20px 0;   
  }
  .search-form input {
    width: 300px;
    padding: 10px;
    border-radius: 5px 0 0 5px;
    border: 1px solid #ccc;
  }
  .search-form button{
    padding: 10px 20px;
    border: none;
    background-color: #2b6cb0;
    color: white;
    border-radius: 0 5px 5px 0;
  }
  .home {
    text-align: center;
    margin-top: 20px;
  }
  .home h5 {
    color: green;
    margin-bottom: 20px;
  }
  .home p,
  .about p,
  .services p {
    font-size: 18px;
    margin-bottom: 30px;
    font-size: 25px;
    color: white;
    font-family: Georgia, 'Times New Roman', Times, serif;

  }
  .home a {
    display: inline-block;
    padding: 12px 25px;
    background-color: #007bff;
    color: white;
    text-decoration: none;
    border-radius: 50px;
    font-weight: bold;
  }
  .home a:hover {
    background-color: #0056b3;
  }
.section {
  width: 100%;
  padding: 60px 0; 
  margin-bottom: 0 auto;
}
.section-title {
  color: rgb(11, 230, 175);
  font-style: oblique;
  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
  font-weight: bold;
  width: fit-content;
  padding: 5px 5px;
  border-radius: 10px;
  margin: 50px auto;
  border: 1px solid rgb(240, 71, 93);
}
.about,
.services,
.feedback {
  width: 100%;
  padding: 40px 20px;
  box-sizing: border-box;
  margin: 0;
}
h4 {
  text-align: center;
  margin-bottom: 20px;
}
.services ul {
  list-style: none;
  text-align: center;
  padding: 0;
} 
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 20px;
  max-width: 1200px;
  margin: auto;
}
.card {
  background-color: white;
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
}
.card:hover {
  transform: scale(1.02);
}
.card img {
  width: 100%;
  height: 180px;
  object-fit: cover;
}
.card-body {
  padding: 15px;
}
.card-body h3 {
  margin: 0 0 5px;
}
.card-body p {
  margin: 4px 0;
}
.cta-link {
  text-align: center;
  margin-top: 30px;
  margin-bottom: 40px;
}
.browse-button {
  background-color: #3498db;
  color: white;
  padding: 10px 20px;
  text-decoration: none;
  border-radius: 50px;
  font-weight: bold;
  transition: background-color 0.3s ease;
}

.browse-button:hover {
  background-color: #2980b9;
}
.testimonial-marquee-section {
  padding: 60px 20px;
  overflow: hidden;
  text-align: center;
}

.testimonial-marquee-wrapper {
  position: relative;
  width: 100%;
  overflow: hidden;
}

.testimonial-marquee-track {
  display: flex;
  width: max-content;
  animation: scrollTestimonials 40s linear infinite;
}

@keyframes scrollTestimonials {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-50%);
  }
}

.testimonial-card {
  min-width: 300px;
  max-width: 320px;
  margin: 0 15px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  flex-shrink: 0;
  transition: transform 0.3s ease;
}

.testimonial-card:hover {
  transform: scale(1.05);
}
.testimonial-card img {
  height: 50px;
  width: 50px;
  border-radius: 50%;
  border: 1px solid #3498db;
}
.testimonial-card p {
  font-size: 1rem;
  font-style: italic;
  color: #333;
  margin-bottom: 10px;
}

.testimonial-card h4 {
  color: #666;
  font-weight: normal;
}

.feedback {
    padding: 40px 20px;
  
}
.feedback-contact-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    margin-top: 2rem;
    margin-bottom: 30px;
    }

    .feedback-card {
      background: white;
      padding: 40px;
      border-radius: 10px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .feedback-card h3 {
      margin-bottom: 25px;
      font-size: 24px;
      text-align: center;
      color: #358f92;
      font-style: oblique;
    }

    .feedback-card form p {
      margin-bottom: 18px;
    }

    .feedback-card input,
    .feedback-card textarea {
      width: 100%;
      padding: 12px 14px;
      border: 1px solid #72b7f0;
      border-radius: 6px;
      font-size: 15px;
      transition: border 0.2s ease-in-out;
    }

    .feedback-card input:focus,
    .feedback-card textarea:focus {
      border-color: #007bff;
      outline: none;
    }

    .btn-submit {
      width: 100%;
      padding: 12px;
      background-color: #007bff;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .btn-submit:hover {
      background-color: #0056b3;
    }
  
@media (max-width: 768px) {
      .card-grid {
          grid-template-columns: 1fr;
      }
      .section-title {
          font-size: 22px;
      }
      .card-body p {
          font-size: 0.9rem;
      
      }
       .feedback-contact-wrapper {
        flex-direction: column;
        align-items: center;
      }

      .feedback-card,
      .contact-info-box {
        width: 100%;
        max-width: 500px;
  }
}
.messages {
    padding: 10px 15px;
    margin-bottom: 15px;
    border-radius: 5px;
    color: #ffffff;
    text-align: center;
    width: fit-content;
    margin-left: auto;
    margin-right: auto;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
    animation: slideDown 0.5s ease;
}
.success {
    background-color: #4CAF50;
}
</style>
<section class="home" id="home">
      <form action="{% url 'view_attachments' %}" method="GET" class="search-form">
        <input type="text" name="q" placeholder="Search applications...">
        <button type="submit">Search</button>
    </form>
        <h5>Welcome to the  Attachment & Housing  Portal</h5>
  
        <p>Your gateway to attachment opportunities and talent connections.</p>
        <p>Discover top housing options and the latest attachment opportunities from trusted companies.</p>
        <p>Here we link students to a variety of companies where they can take their industrial attachmnets as well as internships. <br><br>
            We also make sure that the accomodation of the attachees is well catered for by having the tenants within their places of attachment post their rentals in the platform easening their process of searching for rentals.
        </p>
        <a href="{% url 'all_attachment_posts' %}">Explore Attachments</a>
        {% if not user.is_authenticated %}
            <a href="{% url 'login' %}">Get Started</a>
        {% else %}
             <a href="{% url 'dashboard' %}">Go to Dashboard</a>
             <a href="{% url 'all_houses' %}">Explore Houses</a>
        {% endif %}
</section>
</div>
<section class="about" id="about">
     <div class="title-box">
    <h4 class="section-title">About Us</h4>
  </div>
        <p>
          We are a bridge between the  students seeking for industrial attachment and internships,  and companies having slots for attachees as well as interns. 
          By providing a seamless way to post and apply, we ensure that both parties can find the best fit with ease.
          It also aimed at bridging students with tenants since in most cases, students usually secure an attachment in a strage place hence this platform will provide them with a chance to be able to secure a place to leave by having the tenants post there rentals in the platform.
        </p>
</section>
<section class="services" id="services">
  <div class="title-box">
    <h4 class="section-title">Our Services</h4>
  </div>
    <ul>
      <p>Our sevices include the following: <br><br>
        Handling account creation for the attachees, companies and the tenants,<br><br>
        Posting attachment opportunities for the attachees to apply.
        <br><br>
        Having the tenant post there rentals to easen the peocess of the attachees looking for places to stay while in there attachment.
        <br><br> 
        We aslo carry out tracking of the processes carried out by each user registered in the platform to ensure <br> that intrgrity is upheld and ensuring that the intented purpse of the platform is attained.
        <br><br>
      </p>
    </ul>
</section>
<section class="section">
  <div class="title-box">
    <h4 class="section-title">Featured Houses</h4>
  </div>
  <div class="card-grid">
    {% for house in featured_houses %}
      <div class="card">
        {% if house.image %}
          <img src="{{ house.image.url }}" alt="{{ house.title }} image" role="img">
        {% endif %}
        <div class="card-body">
          <h3>{{ house.title }}</h3>
          <p><strong>Location:</strong> {{ house.location }}</p>
          <p><strong>Rent:</strong> {{ house.rent }}</p>
          <p>{{ house.description|truncatewords:20 }}</p>
        </div>
      </div>
    {% endfor %}
  </div>
    <div class="cta-link">
      <a href="{% url 'all_houses' %}" class="browse-button">Browse All Houses</a>
    </div>
</section>
<section class="section">
  <div class="title-box">
    <h4 class="section-title">Recent Attachments</h4>
  </div> 
  <div class="card-grid">
    {% for att in recent_attachments %}
      <div class="card">
        <div class="card-body">
          <h3>{{ att.title }}</h3>
          <p><strong>Company:</strong> {{ att.company }}</p>
          <p><strong>Location:</strong> {{ att.location }}</p>
          <p><strong>Deadline:</strong> {{ att.application_deadline|date:"F d, Y" }}</p>
          {% if att.link %}
            <p><a href="{{ att.link }}" target="_blank">View More / Apply</a></p>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
    <div class="cta-link">
      <a href="{% url 'view_attachments' %}" class="browse-button">Explore Attachments</a>
    </div>
</section>
<section class="testimonial-marquee-section"> 
  <div class="title-box">
    <h4 class="section-title"> What Our Users Say</h4>
  </div>
  <div class="testimonial-marquee-wrapper">
    <div class="testimonial-marquee-track">
      <div class="testimonial-card">
        <img src="media/images/about6.jpg" alt="">
        <p>"This platform helped me get an attachment quickly!"</p>
        <h4>- Sarah W.</h4>
      </div>
      <div class="testimonial-card">
        <img src="media/images/about6.jpg" alt="">
        <p>"Clean UI and smooth navigation. Great job!"</p>
        <h4>- Kevin M.</h4>
      </div>
      <div class="testimonial-card">
        <img src="media/images/about6.jpg" alt="">
        <p>"Booking a house was never this easy!"</p>
        <h4>- Lucy A.</h4>
      </div>
      <div class="testimonial-card">
        <img src="media/images/about6.jpg" alt="">
        <p>"I recommend this to all fellow students."</p>
        <h4>- John O.</h4>
      </div>
      <div class="testimonial-card">
        <img src="media/images/about6.jpg" alt="">
        <p>"This platform helped me get an attachment quickly!"</p>
        <h4>- Sarah W.</h4>
      </div>
      <div class="testimonial-card">
        <img src="media/images/footer2.jpg" alt="">
        <p>"Clean UI and smooth navigation. Great job!"</p>
        <h4>- Kevin M.</h4>
      </div>
    </div>
  </div>
</section>
<section class="feedback" id="feedback">
  <div class="title-box">
    <h4 class="section-title">Feedback</h4>
  </div>
  <div class="feedback-contact-wrapper">
      <div class="feedback-card">
        <h3>💬 We value your feedback</h3>
         {% if messages %}
        <ul class="messages">
          {% for message in messages %}
            <li class="{{ message.tags }}">{{ message }}</li>
          {% endfor %}
        </ul>
        {% endif %}
        <form method="post" action="">
          {% csrf_token %}
          {{ form.as_p }}
          <button type="submit" class="btn-submit">Submit Feedback</button>
        </form>
      </div>
    </div>
</section>
{% endblock %}
