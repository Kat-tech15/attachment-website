<!-- templates/home.html -->
{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}

<style>
  .search-form {
    display: flex;
    justify-content: center;
    margin: 20px 0;   
  }
  .search-form input {
    width: 300px;
    padding: 10px;
    border-radius: 5px 0 0 5px;
    border: 1px solid #ccc;
  }
  .search-form button{
    padding: 10px 20px;
    border: none;
    background-color: #2b6cb0;
    color: white;
    border-radius: 0 5px 5px 0;
  }
  .home {
    text-align: center;
    margin-top: 20px;
  }
  .home h5 {
    color: green;
    margin-bottom: 20px;
  }
  .home p {
    font-size: 18px;
    margin-bottom: 30px;
  }
  .home a {
    display: inline-block;
    padding: 12px 25px;
    background-color: #007bff;
    color: white;
    text-decoration: none;
    border-radius: 6px;
    font-weight: bold;
  }
  .home a:hover {
    background-color: #0056b3;
  }
section {
  width: 100%;
  padding: 60px 0; 
  background: #f9f9f9;
  margin-bottom: 0 auto;
}
.about,
.services,
.section,
.contact {
  width: 100%;
  padding: 40px 20px;
  border-radius: 8px;
  box-sizing: border-box;
  margin: 0;
}

.about {
  border-right: 5px solid #007bff;
  border-bottom: 5px solid #007bff;
}
.services {
  border-left: 5px solid #007bff;
  border-bottom: 5px solid #007bff;
}

.section {
  border-bottom: 5px solid #007bff;
  border-right: 5px solid #007bff;
}
.contact {
  border-bottom: 5px solid #007bff;
  border-right: 5px solid #007bff;
}
h4 {
  text-align: center;
  margin-bottom: 20px;
}
.about p {
  line-height: 1.6;
  font-size: 16px;
}
.services ul {
  list-style: none;
  text-align: center;
  padding: 0;
} 
.contact p {
  font-size: 16px;
  line-height: 1.5;
  text-align: center;
}
.contact .info {
    margin-top: 20px;
}
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 20px;
  max-width: 1200px;
  margin: auto;
}
.card {
  background-color: white;
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
}
.card:hover {
  transform: scale(1.02);
}
.card img {
  width: 100%;
  height: 180px;
  object-fit: cover;
}
.card-body {
  padding: 15px;
}
.card-body h3 {
  margin: 0 0 5px;
}
.card-body p {
  margin: 4px 0;
}
.cta-link {
  text-align: center;
  margin-top: 20px;
  align-self: center;
}
.cta-link a {
  padding: 10px 20px;
  background-color: #1e90ff;
  color: white;
  border-radius: 6px;
  text-decoration: none;
}
.cta-link a:hover {
  background-color: #006fd6;
}
  .testimonials {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
  padding: 20px;
  border-radius: 8px;
  border-bottom: 5px solid #007bff;
  border-left: 5px solid #007bff;
}
.testimonial-card {
  background-color: white;
  border: 1px solid #ddd;
  border-radius: 10px;
  padding: 20px;
  margin-top: 20px;
  width: 300px;
  text-align: center;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
.testimonial-img {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 10px;
  border: 2px solid #ccc;
}

.testimonial-quote {
  font-style: italic;
  position: relative;
  color: #444;
  margin-bottom: 10px;
}

.testimonial-quote::before {
  content: "‚Äú";
  font-size: 40px;
  position: absolute;
  top: -20px;
  left: -10px;
  color: #f52323;
}

.role {
  font-weight: bold;
  font-size: medium;
  color: #777;
}
.feedback-contact-wrapper {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      margin-top: 30px;
      justify-content: center;
      font-family: 'Segoe UI', sans-serif;
    }

    .feedback-card {
      background: white;
      padding: 40px;
      border-radius: 10px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .feedback-card h2 {
      margin-bottom: 25px;
      font-size: 24px;
      text-align: center;
      color: #2c3e50;
    }

    .feedback-card form p {
      margin-bottom: 18px;
    }

    .feedback-card input,
    .feedback-card textarea {
      width: 100%;
      padding: 12px 14px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 15px;
      transition: border 0.2s ease-in-out;
    }

    .feedback-card input:focus,
    .feedback-card textarea:focus {
      border-color: #007bff;
      outline: none;
    }

    .btn-submit {
      width: 100%;
      padding: 12px;
      background-color: #007bff;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .btn-submit:hover {
      background-color: #0056b3;
    }

    .contact-info-box {
      flex: 1 1 300px;
      background: #f7f9fb;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .contact-info-box p {
      font-size: 16px;
      margin: 15px 0;
    }


@media (max-width: 768px) {
      .card-grid {
          grid-template-columns: 1fr;
      }
      .section-title {
          font-size: 22px;
      }
      .card-body p {
          font-size: 0.9rem;
      
      }
       .feedback-contact-wrapper {
        flex-direction: column;
        align-items: center;
      }

      .feedback-card,
      .contact-info-box {
        width: 100%;
        max-width: 500px;
  }
}
</style>
<section class="home" id="home">
  <div class="content-wrapper">
      <form action="{% url 'view_attachments' %}" method="GET" class="search-form">
        <input type="text" name="q" placeholder="Search applications...">
        <button type="submit">Search</button>
    </form>
        <h5>Welcome to the  Attachment & Housing  Portal</h5>
  
        <p>Your gateway to attachment opportunities and talent connections.</p>
        <p>Discover top housing options and the latest attachment opportunities from trusted companies.</p>
        <p>Here we link students to a variety of companies where they can take their industrial attachmnets as well as internships. <br><br>
            We also make sure that the accomodation of the attachees is well catered for by having the tenants within their places of attachment post their rentals in the platform easening their process of searching for rentals.
        </p>
        <a href="{% url 'all_attachment_posts' %}">Explore Attachments</a>
        {% if not user.is_authenticated %}
            <a href="{% url 'login' %}">Get Started</a>
        {% else %}
             <a href="{% url 'dashboard' %}">Go to Dashboard</a>
             <a href="{% url 'all_houses' %}">Explore Houses</a>
        {% endif %}
    
</section>
</div>
<section class="about" id="about">
     <h4>About Us</h4>
        <p>
          We are a bridge between the  students seeking for industrial attachment and internships,  and companies having slots for attachees as well as interns. 
          By providing a seamless way to post and apply, we ensure that both parties can find the best fit with ease.
          It also aimed at bridging students with tenants since in most cases, students usually secure an attachment in a strage place hence this platform will provide them with a chance to be able to secure a place to leave by having the tenants post there rentals in the platform.
        </p>
</section>
<section class="services" id="services">
  <h4>Our Services</h4>
    <ul>
      <p>Our sevices include the following: <br><br>
                
        Handling account creation for the attachees, companies and the tenants,<br><br>
          <hr>
        Posting attachment opportunities for the attachees to apply.
        <br><br>
        <hr>
        Having the tenant post there rentals to easen the peocess of the attachees looking for places to stay while in there attachment.
        <br><br> 
        <hr>
        We aslo carry out tracking of the processes carried out by each user registered in the platform to ensure <br> that intrgrity is upheld and ensuring that the intented purpse of the platform is attained.
        <br><br><hr>
      </p>
    </ul>
</section>
<section class="section">
  <h4>üè† Featured Houses</h4>
  <div class="card-grid">
    {% for house in featured_houses %}
      <div class="card">
        {% if house.image %}
          <img src="{{ house.image.url }}" alt="{{ house.title }} image" role="img">
        {% endif %}
        <div class="card-body">
          <h3>{{ house.title }}</h3>
          <p><strong>Location:</strong> {{ house.location }}</p>
          <p><strong>Rent:</strong> {{ house.rent }}</p>
          <p>{{ house.description|truncatewords:20 }}</p>
        </div>
      </div>
    {% endfor %}
    <div class="cta-link">
      <a href="{% url 'all_houses' %}">Browse All Houses</a>
    </div>
</section>
<section class="section">
  <h4 >üìé Recent Attachments</h4>
  <div class="card-grid">
    {% for att in recent_attachments %}
      <div class="card">
        <div class="card-body">
          <h3>{{ att.title }}</h3>
          <p><strong>Company:</strong> {{ att.company }}</p>
          <p><strong>Location:</strong> {{ att.location }}</p>
          <p><strong>Deadline:</strong> {{ att.application_deadline|date:"F d, Y" }}</p>
          {% if att.link %}
            <p><a href="{{ att.link }}" target="_blank">View More / Apply</a></p>
          {% endif %}
        </div>
      </div>
    {% endfor %}
    <div class="cta-link">
      <a href="{% url 'all_houses' %}" role="button" aria-label="Explore attachmnet opportunities">Explore Attachments</a>
    </div>
</section>
<section class="testimonials">
  {% for testimonial in testimonials %}
    <div class="testimonial-card">
      <p class="testimonial-quote">‚Äú{{ testimonial.message }}‚Äù</p>
      <img src="{{ testimonial.image.url }}" alt="{{ testimonial.name }}" class="testimonial-img">
      <h4>{{ testimonial.name }} <span class="role"> - {{testimonial.role }}</span></h4>
    </div>
  {% endfor %}
</section>
<section class="contact" id="contact">
  <h4>Contact Us</h4>
    <p>
       For any inquiries, support or feedback, please reach out to us:
    </p>
   
    <div class="feedback-contact-wrapper">
        
      <div class="feedback-card">
        {% if messages %}
  
    {% for message in messages %}
      <div style="background-color: #d4edda; color: #155724; padding: 10px 15px; border-radius: 6px; margin-bottom: 20px;">
        {{ message }}
      </div>
    {% endfor %}
{% endif %}
        <h2>üí¨ We value your feedback</h2>
        <form method="post" action="">
          {% csrf_token %}
          {{ form.as_p }}
          <button type="submit" class="btn-submit">Submit Feedback</button>
        </form>
      </div>
        <div class="info">
        <p><strong>Email:</strong> support@attachmentportal.com</p>
        <p><strong>Phone:</strong> +254 1112871337</p>
        <p><strong>Location:</strong> Nairobi, Kenya</p>
      </div>
    </div>
</section>
{% endblock %}
